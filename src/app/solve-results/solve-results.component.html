<mat-accordion>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                Results
            </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-form-field>
            <mat-select placeholder="result selection" [value]="(selectedResultIndex | async)" (selectionChange)="onResultSelectionChange($event)">
                <mat-option #resultSelection *ngFor="let result of (resultIndices | async); index as idx" [value]="result[0]">
                    {{solveResultSelectorColor[idx]}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-tab-group (selectedTabChange)="onTabChange($event)">
            <mat-tab label="Links">
                <table class="stretch" mat-table [dataSource]="linkResultDataSource">
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef> Id </th>
                        <td mat-cell *matCellDef="let r">{{r.id}}</td>
                    </ng-container>
                    <ng-container matColumnDef="q">
                        <th mat-header-cell *matHeaderCellDef> Angle / Length </th>
                        <td mat-cell *matCellDef="let r">{{r.q}}</td>
                    </ng-container>
                    <ng-container matColumnDef="omega">
                        <th mat-header-cell *matHeaderCellDef> Angularspeed: ω </th>
                        <td mat-cell *matCellDef="let r">{{r.v}}</td>
                    </ng-container>
                    <ng-container matColumnDef="omegax">
                        <th mat-header-cell *matHeaderCellDef> Acceleration: ω' </th>
                        <td mat-cell *matCellDef="let r">{{r.a}}</td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="linkResultDataSource.cols"></tr>
                    <tr mat-row *matRowDef="let row; columns: linkResultDataSource.cols;"></tr>
                </table>
            </mat-tab>
            <mat-tab label="Points">
                <table class="stretch" mat-table [dataSource]="pointResultDataSource">
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef> Id </th>
                        <td mat-cell *matCellDef="let r">{{r.id}}</td>
                    </ng-container>
                    <ng-container matColumnDef="vx/vy">
                        <th mat-header-cell *matHeaderCellDef> Speed </th>
                        <td mat-cell *matCellDef="let r">{{r.v}}</td>
                    </ng-container>
                    <ng-container matColumnDef="ax/ay">
                        <th mat-header-cell *matHeaderCellDef> Acceleration </th>
                        <td mat-cell *matCellDef="let r">{{r.a}}</td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="pointResultDataSource.cols"></tr>
                    <tr mat-row *matRowDef="let row; columns: pointResultDataSource.cols;"></tr>
                </table>
            </mat-tab>
        </mat-tab-group>
    </mat-expansion-panel>
</mat-accordion>
